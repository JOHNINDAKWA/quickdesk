/* -----------------------------
   Global reset + base
--------------------------------*/
*,
*::before,
*::after {
  box-sizing: border-box;
}
html,
body,
#root {
  height: 100%;
}
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue",
    Inter, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    sans-serif;
  line-height: 1.45;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--bg);
  color: var(--text);
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.25);
  border-radius: 4px;
}
::-webkit-scrollbar-track {
  background: transparent;
}

/* a11y focus */
:where(a, button, [role="button"], input, select, textarea):focus-visible {
  outline: 2px solid var(--brand);
  outline-offset: 2px;
}

/* Layout helpers */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 16px;
}
.panel {
  background: var(--surface-1);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  padding: 16px;
}
.text-muted {
  color: var(--text-muted);
}

/* Buttons (simple, tweak later) */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  background: var(--surface-2);
  color: var(--text);
  text-decoration: none;
  cursor: pointer;
  transition: background 0.15s ease, border-color 0.15s ease;
  white-space: nowrap;
}
.btn:hover {
  background: var(--surface-3);
}
.btn-primary {
  background: var(--brand);
  border-color: color-mix(in oklab, var(--brand), black 10%);
  color: var(--on-brand);
}
.btn-primary:hover {
  background: color-mix(in oklab, var(--brand), white 8%);
  color: var(--text);
}

/* -----------------------------
   Tokens (sizes, radii, motion)
--------------------------------*/
:root {
  --radius-md: 10px;
  --radius-lg: 14px;
  --radius-xl: 18px;

  --shadow-1: 0 1px 2px rgba(0, 0, 0, 0.08), 0 8px 24px rgba(0, 0, 0, 0.08);
  --shadow-2: 0 2px 6px rgba(0, 0, 0, 0.1), 0 16px 40px rgba(0, 0, 0, 0.12);

  --transition-fast: 120ms;
  --transition-med: 200ms;
}

/* -----------------------------
   Color system (semantic)
   - Default: LIGHT
   - Brand is HSL so we can derive tints/shades.
--------------------------------*/
:root {
  color-scheme: light;

  /* Brand */
  --brand-h: 170;
  --brand-s: 45%;
  --brand-l: 38%;
  --brand: hsl(var(--brand-h) var(--brand-s) var(--brand-l));
  --brand-weak: hsl(var(--brand-h) calc(var(--brand-s) - 10%) calc(var(--brand-l) + 18%));
  --brand-strong: hsl(var(--brand-h) var(--brand-s) calc(var(--brand-l) - 8%));
  --on-brand: #ffffff;

  /* Neutrals (light) */
  --bg: #f6f7f8;
  --surface-1: #ffffff;
  --surface-2: #f3f4f6;
  --surface-3: #e5e7eb;
  --border: #d1d5db;
  --text: #111827;
  --text-muted: #6b7280;

  /* Sidebar gradient */
  --sidebar-grad: radial-gradient(
      60rem 28rem at 10% -10%,
      color-mix(in oklab, var(--brand), transparent 70%),
      transparent
    ),
    radial-gradient(
      46rem 20rem at 110% 0%,
      color-mix(in oklab, var(--brand-strong), transparent 75%),
      transparent
    );

  /* ===========================
     TONE PALETTE (LIGHT MODE)
     =========================== */
  /* Brand-tinted (for "open") */
  --tone-brand-bg: color-mix(in oklab, var(--brand), white 82%);
  --tone-brand-fg: color-mix(in oklab, var(--brand), black 20%);
  --tone-brand-border: color-mix(in oklab, var(--brand), white 62%);

  /* Semantic tones */
  --tone-green-bg:  #ecfdf5; --tone-green-fg:  #065f46; --tone-green-border:  #a7f3d0;
  --tone-amber-bg:  #fffbeb; --tone-amber-fg:  #92400e; --tone-amber-border:  #fde68a;
  --tone-blue-bg:   #eff6ff; --tone-blue-fg:   #1d4ed8; --tone-blue-border:   #bfdbfe;
  --tone-violet-bg: #f5f3ff; --tone-violet-fg: #6d28d9; --tone-violet-border: #ddd6fe;
  --tone-gray-bg:   #f3f4f6; --tone-gray-fg:   #374151; --tone-gray-border:   #e5e7eb;
  --tone-red-bg:    #fef2f2; --tone-red-fg:    #991b1b; --tone-red-border:    #fecaca;
}

/* DARK overrides (explicit theme toggle) */
html[data-theme="dark"] {
  color-scheme: dark;

  --brand-l: 44%;
  --brand: hsl(var(--brand-h) var(--brand-s) var(--brand-l));
  --brand-weak: hsl(var(--brand-h) calc(var(--brand-s) - 10%) calc(var(--brand-l) + 10%));
  --brand-strong: hsl(var(--brand-h) var(--brand-s) calc(var(--brand-l) - 6%));
  --on-brand: #0a1110;

  --bg: #0a1211;
  --surface-1: #0f1917;
  --surface-2: #0c1514;
  --surface-3: #0a1211;
  --border: #162420;
  --text: #eaf4f1;
  --text-muted: #a5b7b2;

  --sidebar-grad: radial-gradient(
      80rem 36rem at 10% -10%,
      color-mix(in oklab, var(--brand), transparent 70%),
      transparent
    ),
    radial-gradient(
      60rem 24rem at 110% 10%,
      color-mix(in oklab, var(--brand-strong), transparent 78%),
      transparent
    );

  /* ===========================
     TONE PALETTE (DARK MODE)
     Subtle tinted chips with readable text
     =========================== */
  --tone-brand-bg:   color-mix(in oklab, var(--brand), var(--surface-2) 84%);
  --tone-brand-fg:   color-mix(in oklab, var(--brand), white 16%);
  --tone-brand-border: color-mix(in oklab, var(--brand), var(--surface-3) 58%);

  /* base swatches used for mixing */
  --c-green: #10b981;
  --c-amber: #f59e0b;
  --c-blue:  #3b82f6;
  --c-violet:#8b5cf6;
  --c-red:   #ef4444;

  --tone-green-bg:   color-mix(in oklab, var(--c-green),  var(--surface-2) 86%);
  --tone-green-fg:   color-mix(in oklab, var(--c-green),  white 18%);
  --tone-green-border: color-mix(in oklab, var(--c-green),  var(--surface-3) 58%);

  --tone-amber-bg:   color-mix(in oklab, var(--c-amber), var(--surface-2) 88%);
  --tone-amber-fg:   color-mix(in oklab, var(--c-amber), white 20%);
  --tone-amber-border: color-mix(in oklab, var(--c-amber), var(--surface-3) 58%);

  --tone-blue-bg:    color-mix(in oklab, var(--c-blue),  var(--surface-2) 88%);
  --tone-blue-fg:    color-mix(in oklab, var(--c-blue),  white 22%);
  --tone-blue-border:  color-mix(in oklab, var(--c-blue),  var(--surface-3) 58%);

  --tone-violet-bg:  color-mix(in oklab, var(--c-violet),var(--surface-2) 88%);
  --tone-violet-fg:  color-mix(in oklab, var(--c-violet),white 20%);
  --tone-violet-border: color-mix(in oklab, var(--c-violet),var(--surface-3) 58%);

  --tone-gray-bg:    color-mix(in oklab, var(--surface-2), white 6%);
  --tone-gray-fg:    color-mix(in oklab, var(--text), white 12%);
  --tone-gray-border:  color-mix(in oklab, var(--border), white 10%);
  --tone-red-bg:     color-mix(in oklab, var(--c-red),   var(--surface-2) 88%);
  --tone-red-fg:     color-mix(in oklab, var(--c-red),   white 20%);
  --tone-red-border:   color-mix(in oklab, var(--c-red),   var(--surface-3) 58%);
}

/* Respect system preference unless data-theme is set */
@media (prefers-color-scheme: dark) {
  html:not([data-theme]) {
    color-scheme: dark;

    --brand-l: 44%;
    --brand: hsl(var(--brand-h) var(--brand-s) var(--brand-l));
    --brand-weak: hsl(var(--brand-h) calc(var(--brand-s) - 10%) calc(var(--brand-l) + 10%));
    --brand-strong: hsl(var(--brand-h) var(--brand-s) calc(var(--brand-l) - 6%));
    --on-brand: #0a1110;

    --bg: #0a1211;
    --surface-1: #0f1917;
    --surface-2: #0c1514;
    --surface-3: #0a1211;
    --border: #162420;
    --text: #eaf4f1;
    --text-muted: #a5b7b2;

    --sidebar-grad: radial-gradient(
        80rem 36rem at 10% -10%,
        color-mix(in oklab, var(--brand), transparent 70%),
        transparent
      ),
      radial-gradient(
        60rem 24rem at 110% 10%,
        color-mix(in oklab, var(--brand-strong), transparent 78%),
        transparent
      );

    /* same dark palette as explicit theme */
    --tone-brand-bg:   color-mix(in oklab, var(--brand), var(--surface-2) 84%);
    --tone-brand-fg:   color-mix(in oklab, var(--brand), white 16%);
    --tone-brand-border: color-mix(in oklab, var(--brand), var(--surface-3) 58%);

    --c-green: #10b981; --c-amber: #f59e0b; --c-blue: #3b82f6; --c-violet: #8b5cf6; --c-red: #ef4444;

    --tone-green-bg:   color-mix(in oklab, var(--c-green),  var(--surface-2) 86%);
    --tone-green-fg:   color-mix(in oklab, var(--c-green),  white 18%);
    --tone-green-border: color-mix(in oklab, var(--c-green),  var(--surface-3) 58%);

    --tone-amber-bg:   color-mix(in oklab, var(--c-amber), var(--surface-2) 88%);
    --tone-amber-fg:   color-mix(in oklab, var(--c-amber), white 20%);
    --tone-amber-border: color-mix(in oklab, var(--c-amber), var(--surface-3) 58%);

    --tone-blue-bg:    color-mix(in oklab, var(--c-blue),  var(--surface-2) 88%);
    --tone-blue-fg:    color-mix(in oklab, var(--c-blue),  white 22%);
    --tone-blue-border:  color-mix(in oklab, var(--c-blue),  var(--surface-3) 58%);

    --tone-violet-bg:  color-mix(in oklab, var(--c-violet),var(--surface-2) 88%);
    --tone-violet-fg:  color-mix(in oklab, var(--c-violet),white 20%);
    --tone-violet-border: color-mix(in oklab, var(--c-violet),var(--surface-3) 58%);

    --tone-gray-bg:    color-mix(in oklab, var(--surface-2), white 6%);
    --tone-gray-fg:    color-mix(in oklab, var(--text), white 12%);
    --tone-gray-border:  color-mix(in oklab, var(--border), white 10%);
    --tone-red-bg:     color-mix(in oklab, var(--c-red),   var(--surface-2) 88%);
    --tone-red-fg:     color-mix(in oklab, var(--c-red),   white 20%);
    --tone-red-border:   color-mix(in oklab, var(--c-red),   var(--surface-3) 58%);
  }
}

/* -----------------------------
   Per-section brand overrides
   (use on your layout root div)
   <div data-app="superadmin">...</div>
--------------------------------*/
[data-app="superadmin"] {
  /* warm orange for SA */
  --brand-h: 23;
  --brand-s: 95%;
  --brand-l: 55%;
}
[data-app="helpdesk"] {
  /* indigo for agents */
  --brand-h: 258;
  --brand-s: 88%;
  --brand-l: 62%;
}
[data-app="portal"] {
  /* emerald for requesters */
  --brand-h: 160;
  --brand-s: 70%;
  --brand-l: 45%;
}
[data-app="marketing"] {
  /* keep close to the deep teal hero */
  --brand-h: 170;
  --brand-s: 55%;
  --brand-l: 44%;
}

/* -----------------------------
   Ready-to-use building blocks
--------------------------------*/
.header {
  border-bottom: 1px solid var(--border);
  background: var(--sidebar-grad);
}
.sidebar {
  background: var(--surface-2);
  border-right: 1px solid var(--border);
}
.sidebar--tealGlow {
  /* for the dark teal look from your image */
  background: linear-gradient(
      180deg,
      color-mix(in oklab, var(--brand-strong), transparent 84%),
      transparent
    ),
    var(--surface-2);
  box-shadow: var(--shadow-1);
}
.badge {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 999px;
  background: var(--brand-weak);
  color: var(--on-brand);
}

/* Links */
a {
  color: color-mix(in oklab, var(--brand), var(--text) 25%);
}
a:hover {
  color: var(--brand);
}

/* Smooth theme transitions */
html {
  transition: background-color var(--transition-med) ease,
    color var(--transition-med) ease;
}
body,
.panel,
.sidebar,
.header,
.btn,
.btn-primary {
  transition: background-color var(--transition-med) ease,
    border-color var(--transition-med) ease, color var(--transition-med) ease;
}
